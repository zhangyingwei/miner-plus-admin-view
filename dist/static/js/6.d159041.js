webpackJsonp([6],{179:function(t,e,a){var n=a(26)(a(187),a(200),null,null,null);n.options.__file="/Users/zhangyw/zhangyw/code/miner-plus/miner-plus-admin-view/src/components/miner/content/tags.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] tags.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},187:function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var s=a(76);!function(t){t&&t.__esModule}(s);e.default={data:function(){return{token:"",toolbar:{title:null,flag:4},flagList:[{key:1,title:"已发布"},{key:0,title:"未发布"},{key:9,title:"已删除"},{key:4,title:"全部"}],datas:[],kinds:{},page:{current:1,total:0,size:10},confirm:{open:!1,tag:null}}},methods:{search:function(){var e=this;this.$LoadingBar.start(),t.Tags.listTags({current:this.page.current,pageSize:this.page.size}).then(function(t){t.ok?(e.datas=t.result.data,e.page.total=t.result.page.total,e.$LoadingBar.success()):e.$LoadingBar.fail()})},currentChange:function(t){this.page.current=t.cur,this.page.size=t.size,this.search()},addTag:function(){this.confirm.open=!0,this.confirm.tag=null},sureAddOne:function(){var e=this;t.Tags.addOne({topic:this.confirm.tag}).then(function(t){t.ok&&(e.$Message.success(t.message),console.log(t)),e.confirm.open=!1,e.search()})},remove:function(e){var a=this;this.$LoadingBar.start(),t.Tags.deleteOne(e.topic).then(function(t){t.ok?a.$LoadingBar.success():a.$LoadingBar.fail(),a.search()})}},mounted:function(){this.token=n.getLocal("token"),this.search()}}}).call(e,a(27),a(13))},200:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"padding",rawName:"v-padding",value:20,expression:"20"}],staticClass:"app-home"},[a("div",{staticClass:"h-panel"},[a("div",{directives:[{name:"padding",rawName:"v-padding",value:10,expression:"10"}],staticClass:"h-panel-bar"},[t._v("\n            标签管理\n        ")]),t._v(" "),a("div",{directives:[{name:"padding",rawName:"v-padding",value:10,expression:"10"}],staticClass:"h-panel-bar"},[a("button",{staticClass:"h-btn h-btn-primary",on:{click:t.addTag}},[t._v("添加")])]),t._v(" "),a("div",{staticClass:"h-panel-body"},[a("Table",{attrs:{datas:t.datas}},[a("TableItem",{attrs:{title:"序号",width:60,prop:"id"}}),t._v(" "),a("TableItem",{attrs:{title:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-hover"},[t._v(t._s(e.data.topic))])]}}])}),t._v(" "),a("TableItem",{attrs:{title:"状态",width:100},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.data.flag?a("span",{staticClass:"h-tag h-tag-bg-green"},[t._v("正常")]):t._e(),t._v(" "),9===e.data.flag?a("span",{staticClass:"h-tag h-tag-bg-red"},[t._v("删除")]):t._e()]}}])}),t._v(" "),a("TableItem",{attrs:{title:"操作",width:90},scopedSlots:t._u([{key:"default",fn:function(e){return[a("button",{staticClass:"h-btn h-btn-s h-btn-red",on:{click:function(a){t.remove(e.data)}}},[t._v("\n                            删除\n                            "),a("i",{staticClass:"h-icon-trash"})])]}}])}),t._v(" "),a("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("提醒：暂时无数据")])],1),t._v(" "),a("div",{directives:[{name:"padding",rawName:"v-padding",value:10,expression:"10"}]},[a("Pagination",{attrs:{cur:t.page.current,size:t.page.size,total:t.page.total,small:!0},on:{change:t.currentChange}})],1),t._v(" "),a("Modal",{model:{value:t.confirm.open,callback:function(e){t.$set(t.confirm,"open",e)},expression:"confirm.open"}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("添加标签")]),t._v(" "),a("div",[a("input",{directives:[{name:"width",rawName:"v-width",value:400,expression:"400"},{name:"model",rawName:"v-model",value:t.confirm.tag,expression:"confirm.tag"}],attrs:{type:"text",placeholder:"请输入标签"},domProps:{value:t.confirm.tag},on:{input:function(e){e.target.composing||t.$set(t.confirm,"tag",e.target.value)}}})]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"h-btn",on:{click:function(e){t.confirm.open=!1}}},[t._v("取消")]),a("button",{staticClass:"h-btn h-btn-primary",on:{click:t.sureAddOne}},[t._v("确定")])])])],1)])])},staticRenderFns:[]},t.exports.render._withStripped=!0}});